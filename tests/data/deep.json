[
    {
        "complexity": 664985830.830987,
        "dialect": "mysql",
        "query": "SELECT *\nFROM properties\nWHERE id in (select prop_id\n             from advanced_options\n             where name = \"Within 2 miles of sea or river\"\n               and prop_id in (select prop_id\n                               from advanced_options\n                               where name = 'WiFi'\n                                 and prop_id in (select prop_id\n                                                 from advanced_options\n                                                 where name = 'Walking distance to pub'\n                                                   and prop_id in (select prop_id\n                                                                   from advanced_options\n                                                                   where name = 'Swimming pool'\n                                                                     and prop_id in (select prop_id\n                                                                                     from advanced_options\n                                                                                     where xxx = 'Sea or River views'\n                                                                                       and prop_id in (select prop_id\n                                                                                                       from advanced_options\n                                                                                                       where name = 'Pet friendly'\n                                                                                                         and prop_id in\n                                                                                                             (select prop_id\n                                                                                                              from advanced_options\n                                                                                                              where yyy = 'Open fire, wood burning stove or a real flame fire-place'\n                                                                                                                and prop_id in\n                                                                                                                    (select prop_id\n                                                                                                                     from advanced_options\n                                                                                                                     where name = 'Off road parking'))))))))",
        "stats": {
            "subqueries": 8,
            "columns": [
                "id",
                "prop_id",
                "name",
                "prop_id",
                "prop_id",
                "name",
                "prop_id",
                "prop_id",
                "name",
                "prop_id",
                "prop_id",
                "name",
                "prop_id",
                "prop_id",
                "xxx",
                "prop_id",
                "prop_id",
                "name",
                "prop_id",
                "prop_id",
                "yyy",
                "prop_id",
                "prop_id",
                "name"
            ],
            "numbers": [],
            "strings": [
                "Within 2 miles of sea or river",
                "WiFi",
                "Walking distance to pub",
                "Swimming pool",
                "Sea or River views",
                "Pet friendly",
                "Open fire, wood burning stove or a real flame fire-place",
                "Off road parking"
            ],
            "string_types": [
                "string",
                "single_quote_string",
                "single_quote_string",
                "single_quote_string",
                "single_quote_string",
                "single_quote_string",
                "single_quote_string",
                "single_quote_string"
            ],
            "tables": [
                "properties",
                "advanced_options",
                "advanced_options",
                "advanced_options",
                "advanced_options",
                "advanced_options",
                "advanced_options",
                "advanced_options",
                "advanced_options"
            ],
            "databases": [],
            "expressions_per_clause": {
                "select": 9,
                "from": 9,
                "join": 0,
                "where": 63,
                "group_by": 0,
                "having": 0,
                "order_by": 0,
                "limit": 0,
                "offset": 0
            },
            "expressions_per_type": {
                "table": 9,
                "column": 24,
                "string": 8,
                "number": 0,
                "star": 1,
                "unary": 0,
                "binary": 23,
                "function": 0,
                "aggregation_function": 0,
                "list": 8,
                "null": 0
            },
            "case_usage": [
                "snake_case"
            ],
            "quote_usage": [
                "double",
                "single"
            ],
            "is_cyclic": false
        },
        "ast": {
            "with": null,
            "type": "select",
            "options": null,
            "distinct": null,
            "columns": "*",
            "into": {
                "position": null
            },
            "from": [
                {
                    "db": null,
                    "table": "properties",
                    "as": null
                }
            ],
            "where": {
                "type": "binary_expr",
                "operator": "IN",
                "left": {
                    "type": "column_ref",
                    "table": null,
                    "column": "id"
                },
                "right": {
                    "type": "expr_list",
                    "value": [
                        {
                            "tableList": [
                                "select::null::advanced_options",
                                "select::null::properties"
                            ],
                            "columnList": [
                                "select::null::(.*)",
                                "select::null::id",
                                "select::null::prop_id",
                                "select::null::name",
                                "select::null::xxx",
                                "select::null::yyy"
                            ],
                            "ast": {
                                "with": null,
                                "type": "select",
                                "options": null,
                                "distinct": null,
                                "columns": [
                                    {
                                        "expr": {
                                            "type": "column_ref",
                                            "table": null,
                                            "column": "prop_id"
                                        },
                                        "as": null
                                    }
                                ],
                                "into": {
                                    "position": null
                                },
                                "from": [
                                    {
                                        "db": null,
                                        "table": "advanced_options",
                                        "as": null
                                    }
                                ],
                                "where": {
                                    "type": "binary_expr",
                                    "operator": "AND",
                                    "left": {
                                        "type": "binary_expr",
                                        "operator": "=",
                                        "left": {
                                            "type": "column_ref",
                                            "table": null,
                                            "column": "name"
                                        },
                                        "right": {
                                            "type": "string",
                                            "value": "Within 2 miles of sea or river"
                                        }
                                    },
                                    "right": {
                                        "type": "binary_expr",
                                        "operator": "IN",
                                        "left": {
                                            "type": "column_ref",
                                            "table": null,
                                            "column": "prop_id"
                                        },
                                        "right": {
                                            "type": "expr_list",
                                            "value": [
                                                {
                                                    "tableList": [
                                                        "select::null::advanced_options",
                                                        "select::null::properties"
                                                    ],
                                                    "columnList": [
                                                        "select::null::(.*)",
                                                        "select::null::id",
                                                        "select::null::prop_id",
                                                        "select::null::name",
                                                        "select::null::xxx",
                                                        "select::null::yyy"
                                                    ],
                                                    "ast": {
                                                        "with": null,
                                                        "type": "select",
                                                        "options": null,
                                                        "distinct": null,
                                                        "columns": [
                                                            {
                                                                "expr": {
                                                                    "type": "column_ref",
                                                                    "table": null,
                                                                    "column": "prop_id"
                                                                },
                                                                "as": null
                                                            }
                                                        ],
                                                        "into": {
                                                            "position": null
                                                        },
                                                        "from": [
                                                            {
                                                                "db": null,
                                                                "table": "advanced_options",
                                                                "as": null
                                                            }
                                                        ],
                                                        "where": {
                                                            "type": "binary_expr",
                                                            "operator": "AND",
                                                            "left": {
                                                                "type": "binary_expr",
                                                                "operator": "=",
                                                                "left": {
                                                                    "type": "column_ref",
                                                                    "table": null,
                                                                    "column": "name"
                                                                },
                                                                "right": {
                                                                    "type": "single_quote_string",
                                                                    "value": "WiFi"
                                                                }
                                                            },
                                                            "right": {
                                                                "type": "binary_expr",
                                                                "operator": "IN",
                                                                "left": {
                                                                    "type": "column_ref",
                                                                    "table": null,
                                                                    "column": "prop_id"
                                                                },
                                                                "right": {
                                                                    "type": "expr_list",
                                                                    "value": [
                                                                        {
                                                                            "tableList": [
                                                                                "select::null::advanced_options",
                                                                                "select::null::properties"
                                                                            ],
                                                                            "columnList": [
                                                                                "select::null::(.*)",
                                                                                "select::null::id",
                                                                                "select::null::prop_id",
                                                                                "select::null::name",
                                                                                "select::null::xxx",
                                                                                "select::null::yyy"
                                                                            ],
                                                                            "ast": {
                                                                                "with": null,
                                                                                "type": "select",
                                                                                "options": null,
                                                                                "distinct": null,
                                                                                "columns": [
                                                                                    {
                                                                                        "expr": {
                                                                                            "type": "column_ref",
                                                                                            "table": null,
                                                                                            "column": "prop_id"
                                                                                        },
                                                                                        "as": null
                                                                                    }
                                                                                ],
                                                                                "into": {
                                                                                    "position": null
                                                                                },
                                                                                "from": [
                                                                                    {
                                                                                        "db": null,
                                                                                        "table": "advanced_options",
                                                                                        "as": null
                                                                                    }
                                                                                ],
                                                                                "where": {
                                                                                    "type": "binary_expr",
                                                                                    "operator": "AND",
                                                                                    "left": {
                                                                                        "type": "binary_expr",
                                                                                        "operator": "=",
                                                                                        "left": {
                                                                                            "type": "column_ref",
                                                                                            "table": null,
                                                                                            "column": "name"
                                                                                        },
                                                                                        "right": {
                                                                                            "type": "single_quote_string",
                                                                                            "value": "Walking distance to pub"
                                                                                        }
                                                                                    },
                                                                                    "right": {
                                                                                        "type": "binary_expr",
                                                                                        "operator": "IN",
                                                                                        "left": {
                                                                                            "type": "column_ref",
                                                                                            "table": null,
                                                                                            "column": "prop_id"
                                                                                        },
                                                                                        "right": {
                                                                                            "type": "expr_list",
                                                                                            "value": [
                                                                                                {
                                                                                                    "tableList": [
                                                                                                        "select::null::advanced_options",
                                                                                                        "select::null::properties"
                                                                                                    ],
                                                                                                    "columnList": [
                                                                                                        "select::null::(.*)",
                                                                                                        "select::null::id",
                                                                                                        "select::null::prop_id",
                                                                                                        "select::null::name",
                                                                                                        "select::null::xxx",
                                                                                                        "select::null::yyy"
                                                                                                    ],
                                                                                                    "ast": {
                                                                                                        "with": null,
                                                                                                        "type": "select",
                                                                                                        "options": null,
                                                                                                        "distinct": null,
                                                                                                        "columns": [
                                                                                                            {
                                                                                                                "expr": {
                                                                                                                    "type": "column_ref",
                                                                                                                    "table": null,
                                                                                                                    "column": "prop_id"
                                                                                                                },
                                                                                                                "as": null
                                                                                                            }
                                                                                                        ],
                                                                                                        "into": {
                                                                                                            "position": null
                                                                                                        },
                                                                                                        "from": [
                                                                                                            {
                                                                                                                "db": null,
                                                                                                                "table": "advanced_options",
                                                                                                                "as": null
                                                                                                            }
                                                                                                        ],
                                                                                                        "where": {
                                                                                                            "type": "binary_expr",
                                                                                                            "operator": "AND",
                                                                                                            "left": {
                                                                                                                "type": "binary_expr",
                                                                                                                "operator": "=",
                                                                                                                "left": {
                                                                                                                    "type": "column_ref",
                                                                                                                    "table": null,
                                                                                                                    "column": "name"
                                                                                                                },
                                                                                                                "right": {
                                                                                                                    "type": "single_quote_string",
                                                                                                                    "value": "Swimming pool"
                                                                                                                }
                                                                                                            },
                                                                                                            "right": {
                                                                                                                "type": "binary_expr",
                                                                                                                "operator": "IN",
                                                                                                                "left": {
                                                                                                                    "type": "column_ref",
                                                                                                                    "table": null,
                                                                                                                    "column": "prop_id"
                                                                                                                },
                                                                                                                "right": {
                                                                                                                    "type": "expr_list",
                                                                                                                    "value": [
                                                                                                                        {
                                                                                                                            "tableList": [
                                                                                                                                "select::null::advanced_options",
                                                                                                                                "select::null::properties"
                                                                                                                            ],
                                                                                                                            "columnList": [
                                                                                                                                "select::null::(.*)",
                                                                                                                                "select::null::id",
                                                                                                                                "select::null::prop_id",
                                                                                                                                "select::null::name",
                                                                                                                                "select::null::xxx",
                                                                                                                                "select::null::yyy"
                                                                                                                            ],
                                                                                                                            "ast": {
                                                                                                                                "with": null,
                                                                                                                                "type": "select",
                                                                                                                                "options": null,
                                                                                                                                "distinct": null,
                                                                                                                                "columns": [
                                                                                                                                    {
                                                                                                                                        "expr": {
                                                                                                                                            "type": "column_ref",
                                                                                                                                            "table": null,
                                                                                                                                            "column": "prop_id"
                                                                                                                                        },
                                                                                                                                        "as": null
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "into": {
                                                                                                                                    "position": null
                                                                                                                                },
                                                                                                                                "from": [
                                                                                                                                    {
                                                                                                                                        "db": null,
                                                                                                                                        "table": "advanced_options",
                                                                                                                                        "as": null
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "where": {
                                                                                                                                    "type": "binary_expr",
                                                                                                                                    "operator": "AND",
                                                                                                                                    "left": {
                                                                                                                                        "type": "binary_expr",
                                                                                                                                        "operator": "=",
                                                                                                                                        "left": {
                                                                                                                                            "type": "column_ref",
                                                                                                                                            "table": null,
                                                                                                                                            "column": "xxx"
                                                                                                                                        },
                                                                                                                                        "right": {
                                                                                                                                            "type": "single_quote_string",
                                                                                                                                            "value": "Sea or River views"
                                                                                                                                        }
                                                                                                                                    },
                                                                                                                                    "right": {
                                                                                                                                        "type": "binary_expr",
                                                                                                                                        "operator": "IN",
                                                                                                                                        "left": {
                                                                                                                                            "type": "column_ref",
                                                                                                                                            "table": null,
                                                                                                                                            "column": "prop_id"
                                                                                                                                        },
                                                                                                                                        "right": {
                                                                                                                                            "type": "expr_list",
                                                                                                                                            "value": [
                                                                                                                                                {
                                                                                                                                                    "tableList": [
                                                                                                                                                        "select::null::advanced_options",
                                                                                                                                                        "select::null::properties"
                                                                                                                                                    ],
                                                                                                                                                    "columnList": [
                                                                                                                                                        "select::null::(.*)",
                                                                                                                                                        "select::null::id",
                                                                                                                                                        "select::null::prop_id",
                                                                                                                                                        "select::null::name",
                                                                                                                                                        "select::null::xxx",
                                                                                                                                                        "select::null::yyy"
                                                                                                                                                    ],
                                                                                                                                                    "ast": {
                                                                                                                                                        "with": null,
                                                                                                                                                        "type": "select",
                                                                                                                                                        "options": null,
                                                                                                                                                        "distinct": null,
                                                                                                                                                        "columns": [
                                                                                                                                                            {
                                                                                                                                                                "expr": {
                                                                                                                                                                    "type": "column_ref",
                                                                                                                                                                    "table": null,
                                                                                                                                                                    "column": "prop_id"
                                                                                                                                                                },
                                                                                                                                                                "as": null
                                                                                                                                                            }
                                                                                                                                                        ],
                                                                                                                                                        "into": {
                                                                                                                                                            "position": null
                                                                                                                                                        },
                                                                                                                                                        "from": [
                                                                                                                                                            {
                                                                                                                                                                "db": null,
                                                                                                                                                                "table": "advanced_options",
                                                                                                                                                                "as": null
                                                                                                                                                            }
                                                                                                                                                        ],
                                                                                                                                                        "where": {
                                                                                                                                                            "type": "binary_expr",
                                                                                                                                                            "operator": "AND",
                                                                                                                                                            "left": {
                                                                                                                                                                "type": "binary_expr",
                                                                                                                                                                "operator": "=",
                                                                                                                                                                "left": {
                                                                                                                                                                    "type": "column_ref",
                                                                                                                                                                    "table": null,
                                                                                                                                                                    "column": "name"
                                                                                                                                                                },
                                                                                                                                                                "right": {
                                                                                                                                                                    "type": "single_quote_string",
                                                                                                                                                                    "value": "Pet friendly"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            "right": {
                                                                                                                                                                "type": "binary_expr",
                                                                                                                                                                "operator": "IN",
                                                                                                                                                                "left": {
                                                                                                                                                                    "type": "column_ref",
                                                                                                                                                                    "table": null,
                                                                                                                                                                    "column": "prop_id"
                                                                                                                                                                },
                                                                                                                                                                "right": {
                                                                                                                                                                    "type": "expr_list",
                                                                                                                                                                    "value": [
                                                                                                                                                                        {
                                                                                                                                                                            "tableList": [
                                                                                                                                                                                "select::null::advanced_options",
                                                                                                                                                                                "select::null::properties"
                                                                                                                                                                            ],
                                                                                                                                                                            "columnList": [
                                                                                                                                                                                "select::null::(.*)",
                                                                                                                                                                                "select::null::id",
                                                                                                                                                                                "select::null::prop_id",
                                                                                                                                                                                "select::null::name",
                                                                                                                                                                                "select::null::xxx",
                                                                                                                                                                                "select::null::yyy"
                                                                                                                                                                            ],
                                                                                                                                                                            "ast": {
                                                                                                                                                                                "with": null,
                                                                                                                                                                                "type": "select",
                                                                                                                                                                                "options": null,
                                                                                                                                                                                "distinct": null,
                                                                                                                                                                                "columns": [
                                                                                                                                                                                    {
                                                                                                                                                                                        "expr": {
                                                                                                                                                                                            "type": "column_ref",
                                                                                                                                                                                            "table": null,
                                                                                                                                                                                            "column": "prop_id"
                                                                                                                                                                                        },
                                                                                                                                                                                        "as": null
                                                                                                                                                                                    }
                                                                                                                                                                                ],
                                                                                                                                                                                "into": {
                                                                                                                                                                                    "position": null
                                                                                                                                                                                },
                                                                                                                                                                                "from": [
                                                                                                                                                                                    {
                                                                                                                                                                                        "db": null,
                                                                                                                                                                                        "table": "advanced_options",
                                                                                                                                                                                        "as": null
                                                                                                                                                                                    }
                                                                                                                                                                                ],
                                                                                                                                                                                "where": {
                                                                                                                                                                                    "type": "binary_expr",
                                                                                                                                                                                    "operator": "AND",
                                                                                                                                                                                    "left": {
                                                                                                                                                                                        "type": "binary_expr",
                                                                                                                                                                                        "operator": "=",
                                                                                                                                                                                        "left": {
                                                                                                                                                                                            "type": "column_ref",
                                                                                                                                                                                            "table": null,
                                                                                                                                                                                            "column": "yyy"
                                                                                                                                                                                        },
                                                                                                                                                                                        "right": {
                                                                                                                                                                                            "type": "single_quote_string",
                                                                                                                                                                                            "value": "Open fire, wood burning stove or a real flame fire-place"
                                                                                                                                                                                        }
                                                                                                                                                                                    },
                                                                                                                                                                                    "right": {
                                                                                                                                                                                        "type": "binary_expr",
                                                                                                                                                                                        "operator": "IN",
                                                                                                                                                                                        "left": {
                                                                                                                                                                                            "type": "column_ref",
                                                                                                                                                                                            "table": null,
                                                                                                                                                                                            "column": "prop_id"
                                                                                                                                                                                        },
                                                                                                                                                                                        "right": {
                                                                                                                                                                                            "type": "expr_list",
                                                                                                                                                                                            "value": [
                                                                                                                                                                                                {
                                                                                                                                                                                                    "tableList": [
                                                                                                                                                                                                        "select::null::advanced_options",
                                                                                                                                                                                                        "select::null::properties"
                                                                                                                                                                                                    ],
                                                                                                                                                                                                    "columnList": [
                                                                                                                                                                                                        "select::null::(.*)",
                                                                                                                                                                                                        "select::null::id",
                                                                                                                                                                                                        "select::null::prop_id",
                                                                                                                                                                                                        "select::null::name",
                                                                                                                                                                                                        "select::null::xxx",
                                                                                                                                                                                                        "select::null::yyy"
                                                                                                                                                                                                    ],
                                                                                                                                                                                                    "ast": {
                                                                                                                                                                                                        "with": null,
                                                                                                                                                                                                        "type": "select",
                                                                                                                                                                                                        "options": null,
                                                                                                                                                                                                        "distinct": null,
                                                                                                                                                                                                        "columns": [
                                                                                                                                                                                                            {
                                                                                                                                                                                                                "expr": {
                                                                                                                                                                                                                    "type": "column_ref",
                                                                                                                                                                                                                    "table": null,
                                                                                                                                                                                                                    "column": "prop_id"
                                                                                                                                                                                                                },
                                                                                                                                                                                                                "as": null
                                                                                                                                                                                                            }
                                                                                                                                                                                                        ],
                                                                                                                                                                                                        "into": {
                                                                                                                                                                                                            "position": null
                                                                                                                                                                                                        },
                                                                                                                                                                                                        "from": [
                                                                                                                                                                                                            {
                                                                                                                                                                                                                "db": null,
                                                                                                                                                                                                                "table": "advanced_options",
                                                                                                                                                                                                                "as": null
                                                                                                                                                                                                            }
                                                                                                                                                                                                        ],
                                                                                                                                                                                                        "where": {
                                                                                                                                                                                                            "type": "binary_expr",
                                                                                                                                                                                                            "operator": "=",
                                                                                                                                                                                                            "left": {
                                                                                                                                                                                                                "type": "column_ref",
                                                                                                                                                                                                                "table": null,
                                                                                                                                                                                                                "column": "name"
                                                                                                                                                                                                            },
                                                                                                                                                                                                            "right": {
                                                                                                                                                                                                                "type": "single_quote_string",
                                                                                                                                                                                                                "value": "Off road parking"
                                                                                                                                                                                                            }
                                                                                                                                                                                                        },
                                                                                                                                                                                                        "groupby": null,
                                                                                                                                                                                                        "having": null,
                                                                                                                                                                                                        "orderby": null,
                                                                                                                                                                                                        "limit": null,
                                                                                                                                                                                                        "locking_read": null,
                                                                                                                                                                                                        "window": null
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                            ]
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                },
                                                                                                                                                                                "groupby": null,
                                                                                                                                                                                "having": null,
                                                                                                                                                                                "orderby": null,
                                                                                                                                                                                "limit": null,
                                                                                                                                                                                "locking_read": null,
                                                                                                                                                                                "window": null
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    ]
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        },
                                                                                                                                                        "groupby": null,
                                                                                                                                                        "having": null,
                                                                                                                                                        "orderby": null,
                                                                                                                                                        "limit": null,
                                                                                                                                                        "locking_read": null,
                                                                                                                                                        "window": null
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            ]
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "groupby": null,
                                                                                                                                "having": null,
                                                                                                                                "orderby": null,
                                                                                                                                "limit": null,
                                                                                                                                "locking_read": null,
                                                                                                                                "window": null
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            }
                                                                                                        },
                                                                                                        "groupby": null,
                                                                                                        "having": null,
                                                                                                        "orderby": null,
                                                                                                        "limit": null,
                                                                                                        "locking_read": null,
                                                                                                        "window": null
                                                                                                    }
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                },
                                                                                "groupby": null,
                                                                                "having": null,
                                                                                "orderby": null,
                                                                                "limit": null,
                                                                                "locking_read": null,
                                                                                "window": null
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        "groupby": null,
                                                        "having": null,
                                                        "orderby": null,
                                                        "limit": null,
                                                        "locking_read": null,
                                                        "window": null
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                "groupby": null,
                                "having": null,
                                "orderby": null,
                                "limit": null,
                                "locking_read": null,
                                "window": null
                            }
                        }
                    ]
                }
            },
            "groupby": null,
            "having": null,
            "orderby": null,
            "limit": null,
            "locking_read": null,
            "window": null
        }
    }
]